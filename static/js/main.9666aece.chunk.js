(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),u=n(5),i=n.n(u),o=n(6),c=n(7),s=n(8),l=n(2);var d=function(t){return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("input",{type:"checkbox",name:"status",onChange:function(){return t.onChange(t.id)},checked:t.status}),r.a.createElement("p",{className:t.status?"complete":null},t.text),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onClick:function(){return t.handleEdit(t.id)}},"Edit"),r.a.createElement("button",{onClick:function(){return t.handleDestroy(t.id)}},"Delete")))};var f=function(t){var e=t.items.map((function(e){return r.a.createElement(d,{key:e.id,id:e.id,text:e.text,status:e.status,handleEdit:t.handleEdit,onChange:t.handlechange,handleDestroy:t.handleDestroy})}));return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group"},e))};var m=function(t){return r.a.createElement("div",null,r.a.createElement("form",{className:"todo-form"},r.a.createElement("textarea",{type:"text",name:"text",value:t.text,placeholder:"Add Text Here",onChange:t.handleChange}),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onClick:t.formButtonClick},t.isEdit?"Update":"Add"),r.a.createElement("button",{style:t.isEdit?null:{display:"none"},onClick:t.formButtonClick},"Cancel"))))},h="https://api.airtable.com/v0/appSlGM6UHvPEi9Mj/Todos",p=new Request(h),E=new Headers,v={method:"GET",headers:E};E.append("Authorization","Bearer keyqL6Ke0FIAQtmOQ"),E.append("Content-Type","application/json");var b=function(t){v.method="PATCH";var e={records:[{id:t.id,fields:{text:t.text,status:t.status}}]};return v.body=JSON.stringify(e),fetch(p,v).then((function(t){return t.json()})).then((function(t){return t}))};var g=function(){var t=Object(a.useState)(!0),e=Object(l.a)(t,2),n=e[0],u=e[1],i=Object(a.useState)([]),d=Object(l.a)(i,2),E=d[0],g=d[1],x=Object(a.useState)(""),j=Object(l.a)(x,2),y=j[0],O=j[1],C=Object(a.useState)(!1),k=Object(l.a)(C,2),T=k[0],N=k[1],S=Object(a.useState)({}),H=Object(l.a)(S,2),L=H[0],D=H[1];return Object(a.useEffect)((function(){fetch(p,v).then((function(t){return t.json()})).then((function(t){return t.records.map((function(t){return{id:t.id,text:t.fields.text,status:!!t.fields.status&&t.fields.status}}))})).then((function(t){u(!1),g(t)}))}),[]),r.a.createElement("div",{className:"todo-list"},n?r.a.createElement("div",null,"Loading....."):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Todo List"),r.a.createElement(f,{items:E,handlechange:function(t){g((function(e){return e.map((function(e){if(e.id===t){var n=Object(s.a)({},e,{status:!e.status});return b(n),n}return e}))}))},handleDestroy:function(t){g((function(e){var n=e.filter((function(e){return e.id!==t}));return function(t){v.method="DELETE",fetch(h+"/"+t,v).then((function(t){return t.json()})).then((function(t){console.log(t)}))}(t),console.log(n),n}))},handleEdit:function(t){N(!0);var e,n=Object(o.a)(E);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.id===t&&(D(a),O(a.text))}}catch(r){n.e(r)}finally{n.f()}}}),r.a.createElement(m,{text:y,isEdit:T,handleChange:function(t){var e=t.target.value;O(e)},formButtonClick:function(t){t.preventDefault(),"Add"===t.target.innerHTML?function(t){v.method="POST";var e={records:[{fields:{text:t.text,status:t.status}}]};return v.body=JSON.stringify(e),fetch(p,v).then((function(t){return t.json()})).then((function(t){return t.records.map((function(t){return{id:t.id,text:t.fields.text,status:!!t.fields.status&&t.fields.status}}))[0]}))}({text:y,status:!1}).then((function(t){g((function(e){var n=Object(c.a)(e);return n.push(t),n})),O("")})):"Update"===t.target.innerHTML?(g((function(t){return t.map((function(t){if(t.id===L.id){var e={id:L.id,text:y,status:L.status};return b(e),e}return t}))})),N(!1),O(""),D({})):"Cancel"===t.target.innerHTML&&(console.log(t.target.innerHTML),N(!1),O(""),D({}))}})))};n(14);i.a.render(r.a.createElement(g,null),document.getElementById("root"))},9:function(t,e,n){t.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.9666aece.chunk.js.map